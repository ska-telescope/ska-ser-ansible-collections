---
# undefined variables:
# - docker_proxy_env
# - docker_mtu

debug: false

docker_deb_repo_url: "deb https://download.docker.com/linux/ubuntu {{ ansible_distribution_release }} stable"
docker_deb_repo_key_url: https://download.docker.com/linux/ubuntu/gpg
docker_deb_repo_key_id: 9DC858229FC7DD38854AE2D88D81803C0EBFCD88

nexus: "{{ _ | mandatory('`nexus` definition is mandatory') }}"
nexus_docker_hosted_port: 9080
nexus_docker_group_port: 9082

docker_allow_upgrade: false

docker_activate_nvidia: false
docker_ignore_nvidia_fail: false

docker_driver: overlay2
docker_repo: localhost:5000
docker_metrics_port: 9323
docker_registry_mirror: "http://{{ nexus }}:{{ nexus_docker_group_port }}"
docker_nexus_hosted_cache: "{{ nexus }}:{{ nexus_docker_hosted_port }}"

docker_log_max_size: "10m"
docker_log_max_file: "3"
docker_log_driver: json-file

docker_deb_uninstall_pkgs:
  - docker
  - docker-engine
  - docker.io
  - runc

docker_deb_dependencies:
  - apt-transport-https
  - ca-certificates
  - curl
  - gnupg-agent
  - software-properties-common
  - python3-pip

docker_deb_version: 5:20.10.18~3-0~ubuntu-{{ ansible_distribution_release }}
docker_deb_pkgs:
  - "docker-ce"
  - "docker-ce-cli"
